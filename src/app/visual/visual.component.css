/* ====== Full-bleed (ocupa todo el ancho del viewport) ====== */
.full-bleed {
  width: 100vw;
  margin-left: calc(50% - 50vw);
  margin-right: calc(50% - 50vw);
  max-width: none !important;
}
html, body { overflow-x: hidden; }

/* ====== Zoom fluido que SÍ refluye layout ====== */
:root { --zoom: 1; } /* 1 = 100% */

/* Página / header */
.page { padding: calc(24px * var(--zoom)); min-height: 100vh; box-sizing: border-box; }
.header { display: flex; justify-content: space-between; flex-wrap: wrap; align-items: center; margin-bottom: calc(12px * var(--zoom)); }
.header-actions { display: flex; gap: calc(8px * var(--zoom)); }
.action-button {
  background: #2196f3; color: #fff; border: none;
  padding: calc(8px * var(--zoom)) calc(14px * var(--zoom));
  border-radius: calc(6px * var(--zoom));
  font-weight: 700; cursor: pointer; transition: background .3s;
}
.action-button:hover { background: #1976d2; }
.back-button {
  background: #f44336; color: #fff; border: none;
  padding: calc(8px * var(--zoom)) calc(14px * var(--zoom));
  border-radius: calc(6px * var(--zoom)); font-weight: 700; cursor: pointer;
}

/* Toolbar sticky */
.toolbar.sticky{
  position: sticky; top: 0; z-index: 20;
  background: rgba(255,255,255,.85);
  backdrop-filter: saturate(1.2) blur(6px);
  padding: calc(8px * var(--zoom)) calc(16px * var(--zoom));
  margin: calc(-8px * var(--zoom)) 0 calc(16px * var(--zoom));
  border-radius: calc(12px * var(--zoom));
  display:flex; gap: calc(12px * var(--zoom)); align-items:center;
}
.brand{ font-weight:700; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:24ch; }
.tools{ display:flex; gap: calc(8px * var(--zoom)); align-items:center; }
.tools input[type="search"]{
  height: calc(34px * var(--zoom));
  border: 1px solid #e0e0e0;
  border-radius: calc(8px * var(--zoom));
  padding: 0 calc(10px * var(--zoom));
  min-width: calc(200px * var(--zoom));
}
.progress{ flex:1; height: calc(8px * var(--zoom)); background:#eee; border-radius: calc(8px * var(--zoom)); overflow:hidden; }
.progress .bar{ height:100%; background: linear-gradient(90deg,#4caf50,#81c784); }

/* Control de tamaño */
.zoom-control { display:flex; align-items:center; gap: calc(8px * var(--zoom)); }
.zoom-control input[type="range"]{ width: calc(160px * var(--zoom)); }

/* ====== Grid de semestres (sin scroll) ====== */
.semesters.grid-wrap{
  --card-base: 210px; /* tamaño base a 100% */
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(calc(var(--card-base) * var(--zoom)), 1fr));
  gap: calc(14px * var(--zoom));
  padding: 0 calc(16px * var(--zoom)) calc(16px * var(--zoom));
}
.semesters.compact { --card-base: 190px; }
.semesters.ultra   { --card-base: 170px; }
.semesters.dense   { --card-base: 180px; }

@media (max-width: 900px) {
  .semesters.grid-wrap { --card-base: 190px; }
  .semesters.compact   { --card-base: 170px; }
  .semesters.ultra     { --card-base: 150px; }
}
@media (max-width: 600px) {
  .semesters.grid-wrap { --card-base: 170px; }
  .semesters.compact   { --card-base: 150px; }
  .semesters.ultra     { --card-base: 140px; }
}

/* Tarjetas */
.semester-column{
  background:#fff; border-radius: calc(12px * var(--zoom));
  border:1px solid #ececec;
  box-shadow: 0 2px 8px rgba(0,0,0,.04);
  padding: calc(12px * var(--zoom));
  min-width: 0;
  transition: transform .2s ease;
}
.semester-header{
  padding: calc(12px * var(--zoom));
  border-radius: calc(8px * var(--zoom));
  text-align:center; font-weight:700; margin-bottom: calc(10px * var(--zoom));
}
.semester-header .sum{ font-size: calc(12px * var(--zoom)); opacity:.75; margin-top: calc(4px * var(--zoom)); }

/* Lista de ramos */
ul { margin: 0; padding: 0; list-style: none; }
li {
  padding: calc(8px * var(--zoom));
  margin-bottom: calc(6px * var(--zoom));
  border-radius: calc(6px * var(--zoom));
  font-size: calc(14px * var(--zoom));
  box-shadow: 0 1px 2px rgba(0,0,0,.08);
  transition: background-color .2s, transform .08s ease;
  cursor: pointer;
}
li:hover { background: #e3f2fd; }
li:active{ transform: scale(.98); }
li:focus{ outline: 2px solid #90caf9; outline-offset: 2px; }

.row{ display:flex; align-items:center; gap: calc(8px * var(--zoom)); justify-content:space-between; }
.dot{ width: calc(10px * var(--zoom)); height: calc(10px * var(--zoom)); border-radius:50%; background:#bbdefb; }
li.done .dot{ background:#66bb6a; }
li.locked .dot{ background:#ef9a9a; }
.chip{ font-size: calc(12px * var(--zoom)); background:#f0f0f0; border-radius:999px; padding: calc(2px * var(--zoom)) calc(8px * var(--zoom)); }

.tachado, li.done { text-decoration: line-through; color: #888; background: #eee !important; box-shadow: none !important; }
.disabled, li.locked { opacity: .6; pointer-events: auto; }
.hint{ display:block; margin-top: calc(4px * var(--zoom)); font-size: calc(12px * var(--zoom)); opacity:.85; color:#e53935; }

/* Pickers/editores */
.color-panel, .color-picker { margin-top: calc(4px * var(--zoom)); font-size: calc(12px * var(--zoom)); }
.requisite-editor { margin-top: calc(4px * var(--zoom)); font-size: calc(12px * var(--zoom)); display:flex; flex-direction:column; max-width: calc(180px * var(--zoom)); }
.background-editor { display:flex; align-items:center; gap: calc(8px * var(--zoom)); margin: calc(12px * var(--zoom)) 0; }

/* Loader */
.loader { height: 100vh; display:flex; justify-content:center; align-items:center; }
.spinner { border: 6px solid #f3f3f3; border-top: 6px solid #2196f3; border-radius:50%; width:40px; height:40px; animation: spin 1s linear infinite; }
@keyframes spin { 0%{transform:rotate(0)} 100%{transform:rotate(360deg)} }
